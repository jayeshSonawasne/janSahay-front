<div class="dashboard-layout">
    <!-- Left Sidebar -->
    <aside class="dashboard-sidebar" [class.collapsed]="isSidebarCollapsed" [class.open]="isMobileSidebarOpen">
        <div class="sidebar-header">
            <div class="logo">
                <img src="assets/images/jansahayLogo.png" alt="JanSahay" class="logo-icon">
                <span class="logo-text" *ngIf="!isSidebarCollapsed">JanSahay</span>
            </div>
            <button class="toggle-btn" (click)="toggleSidebar()" title="Toggle Sidebar">
                <i class="bi" [class.bi-list]="isSidebarCollapsed" [class.bi-chevron-left]="!isSidebarCollapsed"></i>
            </button>
        </div>

        <nav class="sidebar-nav">
            <a (click)="setActiveTab('dashboard')" [class.active]="activeTab === 'dashboard'" class="nav-item">
                <i class="bi bi-grid-1x2-fill"></i>
                <span *ngIf="!isSidebarCollapsed">Dashboard</span>
            </a>
            <a (click)="setActiveTab('applications')" [class.active]="activeTab === 'applications'" class="nav-item">
                <i class="bi bi-file-earmark-text"></i>
                <span *ngIf="!isSidebarCollapsed">Applications</span>
            </a>
            <a (click)="setActiveTab('schemes')" [class.active]="activeTab === 'schemes'" class="nav-item">
                <i class="bi bi-clipboard-check"></i>
                <span *ngIf="!isSidebarCollapsed">Schemes</span>
            </a>
            <a (click)="setActiveTab('analytics')" [class.active]="activeTab === 'analytics'" class="nav-item">
                <i class="bi bi-graph-up-arrow"></i>
                <span *ngIf="!isSidebarCollapsed">Analytics</span>
            </a>
            <a (click)="setActiveTab('reports')" [class.active]="activeTab === 'reports'" class="nav-item">
                <i class="bi bi-file-earmark-bar-graph"></i>
                <span *ngIf="!isSidebarCollapsed">Reports</span>
            </a>
            <a (click)="setActiveTab('messages')" [class.active]="activeTab === 'messages'" class="nav-item">
                <i class="bi bi-chat-dots"></i>
                <span *ngIf="!isSidebarCollapsed">Messages</span>
            </a>
            <a (click)="setActiveTab('settings')" [class.active]="activeTab === 'settings'" class="nav-item">
                <i class="bi bi-gear"></i>
                <span *ngIf="!isSidebarCollapsed">Settings</span>
            </a>
        </nav>
    </aside>

    <!-- Main Content -->
    <div class="dashboard-main" [class.expanded]="isSidebarCollapsed">

        <!-- Toggle for Mobile -->
        <button class="mobile-toggle-btn d-lg-none mb-3" (click)="toggleMobileSidebar()">
            <i class="bi bi-list fs-1"></i>
        </button>

        <!-- DASHBOARD TAB -->
        <div *ngIf="activeTab === 'dashboard'" class="fade-in">
            <div class="dashboard-header">
                <h1 class="dashboard-title">Dashboard</h1>
                <p class="dashboard-subtitle">Overview of your district's performance.</p>
            </div>

            <!-- Stat Cards -->
            <div class="stat-cards-grid">
                <div class="stat-card" *ngFor="let card of statCards">
                    <div class="stat-header">
                        <div class="icon-box" [style.background]="card.iconBg" [style.color]="card.iconColor">
                            <i [class]="'bi ' + card.icon"></i>
                        </div>
                        <div class="change-badge" [class.positive]="card.changeType === 'up'"
                            [class.negative]="card.changeType === 'down'">
                            <i class="bi" [class.bi-arrow-up-short]="card.changeType === 'up'"
                                [class.bi-arrow-down-short]="card.changeType === 'down'"></i>
                            {{card.change}}
                        </div>
                    </div>
                    <h3 class="stat-value">{{card.value}}</h3>
                    <p class="stat-label">{{card.title}} • {{card.description}}</p>
                </div>
            </div>

            <!-- Main Layout Grid -->
            <!-- Using gap-2 equivalent (0.5rem) instead of 1.5rem -->
            <div class="dashboard-content-grid" style="gap: 0.5rem;">

                <!-- Left Column -->
                <div style="display: flex; flex-direction: column; gap: 0.5rem;">

                    <!-- Main Trend Chart -->
                    <div class="chart-card">
                        <div class="card-header">
                            <h3>Application Trends</h3>
                            <button mat-icon-button class="action-btn" [matMenuTriggerFor]="menu">
                                <i class="bi bi-three-dots-vertical"></i>
                            </button>
                            <mat-menu #menu="matMenu">
                                <button mat-menu-item>Daily</button>
                                <button mat-menu-item>Weekly</button>
                                <button mat-menu-item>Monthly</button>
                            </mat-menu>
                        </div>
                        <apx-chart [series]="applicationTrendsChart.series!" [chart]="applicationTrendsChart.chart!"
                            [xaxis]="applicationTrendsChart.xaxis!" [yaxis]="applicationTrendsChart.yaxis!"
                            [stroke]="applicationTrendsChart.stroke!" [fill]="applicationTrendsChart.fill!"
                            [grid]="applicationTrendsChart.grid!" [colors]="applicationTrendsChart.colors!"
                            [tooltip]="applicationTrendsChart.tooltip!">
                        </apx-chart>
                    </div>

                    <!-- Top Schemes Table -->
                    <div class="chart-card">
                        <div class="card-header">
                            <h3>Top Performing Schemes</h3>
                            <div class="d-flex gap-2">
                                <input type="text" (keyup)="applyFilter($event)" placeholder="Search..."
                                    style="padding: 0.5rem 1rem; border: 1px solid #e2e8f0; border-radius: 8px; outline: none; font-size: 0.875rem;">
                            </div>
                        </div>
                        <div class="table-container">
                            <table mat-table [dataSource]="topSchemesDataSource" matSort>
                                <ng-container matColumnDef="rank">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Rank</th>
                                    <td mat-cell *matCellDef="let scheme">
                                        <div style="font-weight: 700; color: #3b82f6;">#{{scheme.rank}}</div>
                                    </td>
                                </ng-container>

                                <ng-container matColumnDef="name">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Scheme</th>
                                    <td mat-cell *matCellDef="let scheme" style="font-weight: 600;">{{scheme.name}}</td>
                                </ng-container>

                                <ng-container matColumnDef="category">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Category</th>
                                    <td mat-cell *matCellDef="let scheme">
                                        <span class="category-pill">{{scheme.category}}</span>
                                    </td>
                                </ng-container>

                                <ng-container matColumnDef="applications">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Apps</th>
                                    <td mat-cell *matCellDef="let scheme">{{scheme.applications | number}}</td>
                                </ng-container>

                                <ng-container matColumnDef="successRate">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Success</th>
                                    <td mat-cell *matCellDef="let scheme">
                                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                                            <div
                                                style="flex: 1; height: 6px; background: #e2e8f0; border-radius: 4px; width: 40px;">
                                                <div [style.width.%]="scheme.successRate"
                                                    style="height: 100%; background: #10b981; border-radius: 4px;">
                                                </div>
                                            </div>
                                            <span
                                                style="font-size: 0.75rem; font-weight: 600; color: #10b981;">{{scheme.successRate}}%</span>
                                        </div>
                                    </td>
                                </ng-container>

                                <ng-container matColumnDef="budget">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Budget</th>
                                    <td mat-cell *matCellDef="let scheme">{{scheme.budget}}</td>
                                </ng-container>

                                <ng-container matColumnDef="status">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Status</th>
                                    <td mat-cell *matCellDef="let scheme">
                                        <mat-chip-option [selectable]="false" [color]="'accent'"
                                            selected>Active</mat-chip-option>
                                    </td>
                                </ng-container>

                                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                                <tr mat-row *matRowDef="let row; columns: displayedColumns;" class="hover-row"
                                    (click)="viewSchemeDetails(row)"></tr>
                            </table>
                            <mat-paginator [pageSizeOptions]="[5]" hidePageSize="true"></mat-paginator>
                        </div>
                    </div>
                </div>

                <!-- Right Column -->
                <div style="display: flex; flex-direction: column; gap: 0.5rem;">

                    <!-- Quick Actions -->
                    <div class="chart-card">
                        <div class="card-header">
                            <h3>Quick Actions</h3>
                        </div>
                        <div class="quick-actions-grid" style="gap: 0.5rem;">
                            <div class="action-btn-card" *ngFor="let action of quickActions"
                                (click)="performQuickAction(action)">
                                <i [class]="'bi ' + action.icon" [style.color]="action.color"></i>
                                <span>{{action.title}}</span>
                            </div>
                        </div>
                    </div>

                    <!-- Recent Activity -->
                    <div class="chart-card">
                        <div class="card-header">
                            <h3>Recent Activity</h3>
                            <button mat-button color="primary" style="font-size: 0.75rem;">View All</button>
                        </div>
                        <div class="activity-timeline">
                            <div class="activity-item" *ngFor="let activity of recentActivities">
                                <div class="activity-icon" [style.background]="activity.color">
                                    <i [class]="'bi ' + activity.icon"></i>
                                </div>
                                <div class="activity-content">
                                    <h4>{{activity.title}}</h4>
                                    <p>{{activity.description}}</p>
                                    <span class="time">{{activity.time}}</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Fund Utilization -->
                    <div class="chart-card">
                        <div class="card-header">
                            <h3>Fund Utilization</h3>
                        </div>
                        <apx-chart [series]="targetVsAchievementChart.series!" [chart]="targetVsAchievementChart.chart!"
                            [xaxis]="targetVsAchievementChart.xaxis!" [yaxis]="targetVsAchievementChart.yaxis!"
                            [plotOptions]="targetVsAchievementChart.plotOptions!"
                            [grid]="targetVsAchievementChart.grid!" [colors]="targetVsAchievementChart.colors!"
                            [legend]="targetVsAchievementChart.legend!">
                        </apx-chart>
                    </div>

                </div>
            </div>
        </div>

        <!-- APPLICATIONS TAB -->
        <div *ngIf="activeTab === 'applications'" class="fade-in">
            <div class="dashboard-header">
                <h1 class="dashboard-title">Applications</h1>
                <p class="dashboard-subtitle">Manage incoming applications.</p>
            </div>
            <div class="chart-card">
                <div class="card-header">
                    <h3>All Applications</h3>
                    <button mat-raised-button color="primary"><i class="bi bi-download me-2"></i>Export CSV</button>
                </div>
                <div class="table-container">
                    <table mat-table [dataSource]="applicationsDataSource" matSort class="w-100">
                        <ng-container matColumnDef="id">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>ID</th>
                            <td mat-cell *matCellDef="let app"><strong>{{app.id}}</strong></td>
                        </ng-container>
                        <ng-container matColumnDef="applicant">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Applicant</th>
                            <td mat-cell *matCellDef="let app" class="fw-bold">{{app.applicant}}</td>
                        </ng-container>
                        <ng-container matColumnDef="scheme">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Scheme</th>
                            <td mat-cell *matCellDef="let app">{{app.scheme}}</td>
                        </ng-container>
                        <ng-container matColumnDef="date">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Date</th>
                            <td mat-cell *matCellDef="let app">{{app.date}}</td>
                        </ng-container>
                        <ng-container matColumnDef="status">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Status</th>
                            <td mat-cell *matCellDef="let app">
                                <span class="status-badge" [ngClass]="getStatusClass(app.status)">{{app.status}}</span>
                            </td>
                        </ng-container>
                        <ng-container matColumnDef="progress">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Progress</th>
                            <td mat-cell *matCellDef="let app">
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <div
                                        style="flex:1; height: 6px; background: #e2e8f0; border-radius: 4px; min-width: 60px;">
                                        <div [style.width.%]="app.progress"
                                            [style.background]="app.progress === 100 ? '#10b981' : '#3b82f6'"
                                            style="height: 100%; border-radius: 4px;"></div>
                                    </div>
                                    <small>{{app.progress}}%</small>
                                </div>
                            </td>
                        </ng-container>
                        <ng-container matColumnDef="action">
                            <th mat-header-cell *matHeaderCellDef>Action</th>
                            <td mat-cell *matCellDef="let app">
                                <button mat-icon-button color="primary" (click)="viewApplication(app)"
                                    matTooltip="View Details">
                                    <i class="bi bi-eye"></i>
                                </button>
                            </td>
                        </ng-container>

                        <tr mat-header-row *matHeaderRowDef="applicationsColumns"></tr>
                        <tr mat-row *matRowDef="let row; columns: applicationsColumns;"></tr>
                    </table>
                    <mat-paginator [pageSizeOptions]="[10, 20]" showFirstLastButtons></mat-paginator>
                </div>
            </div>
        </div>

        <!-- SCHEMES TAB -->
        <div *ngIf="activeTab === 'schemes'" class="fade-in">
            <div class="dashboard-header">
                <h1 class="dashboard-title">Schemes</h1>
                <p class="dashboard-subtitle">Government schemes available.</p>
            </div>
            <div class="schemes-grid gap-2"
                style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 1rem;">
                <div class="chart-card" *ngFor="let scheme of schemesList">
                    <div style="display: flex; gap: 1rem; align-items: start; margin-bottom: 1rem;">
                        <div style="width: 48px; height: 48px; border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 1.5rem;"
                            [style.background]="scheme.color + '20'" [style.color]="scheme.color">
                            <i [class]="'bi ' + scheme.icon"></i>
                        </div>
                        <div>
                            <h3 style="margin: 0; font-size: 1.125rem;">{{scheme.title}}</h3>
                            <span class="status-badge status-active"
                                style="margin-top: 0.25rem;">{{scheme.category}}</span>
                        </div>
                    </div>
                    <p class="text-muted small mb-3">{{scheme.description}}</p>
                    <div
                        style="display: flex; justify-content: space-between; margin-bottom: 1rem; color: #64748b; font-size: 0.875rem;">
                        <span><i class="bi bi-cash me-1"></i> {{scheme.funding}}</span>
                        <span><i class="bi bi-calendar me-1"></i> {{scheme.deadline}}</span>
                    </div>
                    <div class="d-flex gap-2">
                        <button mat-stroked-button color="primary" class="flex-grow-1"
                            (click)="viewSchemeDetails(scheme)">Details</button>
                        <button mat-raised-button color="primary" class="flex-grow-1"
                            (click)="applyForScheme(scheme)">Apply</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- ANALYTICS TAB -->
        <div *ngIf="activeTab === 'analytics'" class="fade-in">
            <div class="dashboard-header">
                <h1 class="dashboard-title">Analytics</h1>
                <p class="dashboard-subtitle">Deep dive into data.</p>
            </div>

            <div class="row g-2 mb-2" style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
                <div class="chart-card" style="flex: 2; min-width: 400px;">
                    <div class="card-header">
                        <h3>State-wise Distribution</h3>
                    </div>
                    <apx-chart [series]="stateDistributionChart.series!" [chart]="stateDistributionChart.chart!"
                        [xaxis]="stateDistributionChart.xaxis!" [yaxis]="stateDistributionChart.yaxis!"
                        [plotOptions]="stateDistributionChart.plotOptions!" [colors]="stateDistributionChart.colors!"
                        [grid]="stateDistributionChart.grid!">
                    </apx-chart>
                </div>
                <div class="chart-card" style="flex: 1; min-width: 300px;">
                    <div class="card-header">
                        <h3>User Demographics</h3>
                    </div>
                    <apx-chart [series]="userDemographicsChart.series!" [chart]="userDemographicsChart.chart!"
                        [labels]="userDemographicsChart.labels!" [colors]="userDemographicsChart.colors!"
                        [legend]="userDemographicsChart.legend!" [plotOptions]="userDemographicsChart.plotOptions!">
                    </apx-chart>
                </div>
            </div>

            <div class="chart-card mb-2">
                <div class="card-header">
                    <h3>Scheme Performance Overview</h3>
                </div>
                <apx-chart [series]="schemePerformanceChart.series!" [chart]="schemePerformanceChart.chart!"
                    [xaxis]="schemePerformanceChart.xaxis!" [yaxis]="schemePerformanceChart.yaxis!"
                    [plotOptions]="schemePerformanceChart.plotOptions!" [colors]="schemePerformanceChart.colors!"
                    [grid]="schemePerformanceChart.grid!">
                </apx-chart>
            </div>

            <div class="row g-2" style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
                <div class="chart-card" style="flex: 1; min-width: 300px;">
                    <div class="card-header">
                        <h3>Demographic Pyramid (Age/Gender)</h3>
                    </div>
                    <apx-chart [series]="demographicPyramidChart.series!" [chart]="demographicPyramidChart.chart!"
                        [xaxis]="demographicPyramidChart.xaxis!" [yaxis]="demographicPyramidChart.yaxis!"
                        [plotOptions]="demographicPyramidChart.plotOptions!" [colors]="demographicPyramidChart.colors!"
                        [grid]="demographicPyramidChart.grid!" [tooltip]="demographicPyramidChart.tooltip!"
                        [stroke]="demographicPyramidChart.stroke!">
                    </apx-chart>
                </div>
                <div class="chart-card" style="flex: 1; min-width: 300px;">
                    <div class="card-header">
                        <h3>Funding Utilization Heatmap</h3>
                    </div>
                    <apx-chart [series]="fundingHeatmapChart.series!" [chart]="fundingHeatmapChart.chart!"
                        [xaxis]="fundingHeatmapChart.xaxis!" [dataLabels]="fundingHeatmapChart.dataLabels!"
                        [colors]="fundingHeatmapChart.colors!">
                    </apx-chart>
                </div>
            </div>
        </div>

        <!-- REPORTS TAB -->
        <div *ngIf="activeTab === 'reports'" class="fade-in">
            <div class="dashboard-header">
                <h1 class="dashboard-title">Reports</h1>
                <p class="dashboard-subtitle">Generate and download.</p>
            </div>
            <div class="chart-card">
                <div class="card-header">
                    <h3>Available Reports</h3>
                    <div class="d-flex gap-2">
                        <input type="date" class="form-control"
                            style="width: auto; padding: 0.5rem; border: 1px solid #e2e8f0; border-radius: 8px;">
                        <button mat-stroked-button color="primary">Filter</button>
                    </div>
                </div>
                <div style="display: flex; flex-direction: column;">
                    <div *ngFor="let report of reportsList"
                        style="display: flex; padding: 1rem; border-bottom: 1px solid #f1f5f9; align-items: center; justify-content: space-between;">
                        <div style="display: flex; gap: 1rem; align-items: center;">
                            <div style="width: 40px; height: 40px; border-radius: 8px; background: #f1f5f9; display: flex; align-items: center; justify-content: center; font-size: 1.25rem;"
                                [style.color]="report.type === 'PDF' ? '#ef4444' : report.type === 'Excel' ? '#10b981' : '#f59e0b'">
                                <i class="bi" [class.bi-file-earmark-pdf-fill]="report.type === 'PDF'"
                                    [class.bi-file-earmark-excel-fill]="report.type === 'Excel'"
                                    [class.bi-file-earmark-spreadsheet-fill]="report.type === 'CSV'"></i>
                            </div>
                            <div>
                                <h4 style="margin: 0; font-size: 0.9375rem; color: #0f172a; font-weight: 600;">
                                    {{report.name}}</h4>
                                <p style="margin: 0.15rem 0 0; color: #64748b; font-size: 0.8125rem;">
                                    {{report.description}}</p>
                                <div style="margin-top: 0.25rem; font-size: 0.75rem; color: #94a3b8; font-weight: 500;">
                                    {{report.date}} • {{report.size}}
                                </div>
                            </div>
                        </div>
                        <button mat-icon-button color="primary" (click)="downloadReport(report)" matTooltip="Download">
                            <i class="bi bi-download"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- MESSAGES TAB -->
        <div *ngIf="activeTab === 'messages'" class="fade-in">
            <div class="dashboard-header">
                <h1 class="dashboard-title">Messages</h1>
                <p class="dashboard-subtitle">Recent communications.</p>
            </div>
            <div class="chart-card" style="padding: 0; overflow: hidden; display: flex; min-height: 500px;">
                <!-- List -->
                <div style="width: 300px; border-right: 1px solid #f1f5f9; display: flex; flex-direction: column;">
                    <div style="padding: 1rem; border-bottom: 1px solid #f1f5f9;">
                        <input type="text" placeholder="Search..."
                            style="width: 100%; padding: 0.5rem; border: 1px solid #e2e8f0; border-radius: 8px; outline: none;">
                    </div>
                    <div class="message-list" style="padding: 0.5rem; overflow-y: auto; flex: 1;">
                        <div *ngFor="let msg of messagesList" class="message-item" [class.unread]="msg.unread"
                            (click)="selectMessage(msg)"
                            style="padding: 0.75rem; border-bottom: 1px solid #f8fafc; cursor: pointer; transition: background 0.2s;"
                            [style.background]="selectedMessage === msg ? '#f0f9ff' : ''">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 0.25rem;">
                                <span
                                    style="font-weight: 600; font-size: 0.875rem; color: #0f172a;">{{msg.sender}}</span>
                                <span style="font-size: 0.75rem; color: #94a3b8;">{{msg.time}}</span>
                            </div>
                            <p
                                style="margin: 0; font-size: 0.8125rem; color: #334155; font-weight: 500; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">
                                {{msg.subject}}</p>
                        </div>
                    </div>
                </div>
                <!-- View -->
                <div style="flex: 1; background: #f8fafc; display: flex; flex-direction: column;">
                    <div *ngIf="selectedMessage; else noMessage"
                        style="padding: 1.5rem; background: white; height: 100%;">
                        <div style="margin-bottom: 1.5rem; border-bottom: 1px solid #f1f5f9; padding-bottom: 1rem;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 0.75rem;">
                                <h2 style="margin: 0; font-size: 1.25rem; color: #0f172a;">{{selectedMessage.subject}}
                                </h2>
                                <span style="color: #64748b; font-size: 0.875rem;">{{selectedMessage.time}}</span>
                            </div>
                            <div style="display: flex; gap: 0.75rem; align-items: center;">
                                <div [style.background]="selectedMessage.color + '20'"
                                    [style.color]="selectedMessage.color"
                                    style="width: 36px; height: 36px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 700;">
                                    {{selectedMessage.avatar}}
                                </div>
                                <div>
                                    <div style="font-weight: 600; color: #0f172a; font-size: 0.9375rem;">
                                        {{selectedMessage.sender}}</div>
                                </div>
                            </div>
                        </div>
                        <div style="color: #334155; line-height: 1.6; font-size: 0.9375rem;">
                            {{selectedMessage.summary}}
                            <p style="margin-top: 1rem;">Detailed message content would appear here...</p>
                        </div>
                        <div class="mt-4">
                            <button mat-flat-button color="primary">Reply</button>
                        </div>
                    </div>
                    <ng-template #noMessage>
                        <div
                            style="display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; color: #94a3b8;">
                            <i class="bi bi-chat-square-text" style="font-size: 2.5rem; margin-bottom: 0.5rem;"></i>
                            <p>Select a message to read</p>
                        </div>
                    </ng-template>
                </div>
            </div>
        </div>

        <!-- SETTINGS TAB -->
        <div *ngIf="activeTab === 'settings'" class="fade-in">
            <!-- Content stays same as before but tighter spacing if needed -->
            <div class="dashboard-header">
                <h1 class="dashboard-title">Settings</h1>
                <p class="dashboard-subtitle">Manage preferences.</p>
            </div>
            <div style="max-width: 800px;">
                <div class="chart-card mb-3">
                    <div class="card-header">
                        <h3>Profile Information</h3>
                    </div>
                    <div class="row g-3"
                        style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem; padding-bottom: 0.5rem;">
                        <div>
                            <label
                                style="display: block; margin-bottom: 0.25rem; font-weight: 600; font-size: 0.8125rem; color: #334155;">Full
                                Name</label>
                            <input type="text" value="Siddhesh G" class="form-control"
                                style="width: 100%; padding: 0.5rem; border: 1px solid #e2e8f0; border-radius: 8px;">
                        </div>
                        <div>
                            <label
                                style="display: block; margin-bottom: 0.25rem; font-weight: 600; font-size: 0.8125rem; color: #334155;">Email</label>
                            <input type="email" value="siddhesh@example.com" class="form-control"
                                style="width: 100%; padding: 0.5rem; border: 1px solid #e2e8f0; border-radius: 8px;">
                        </div>
                    </div>
                    <div style="padding-top: 0.75rem; border-top: 1px solid #f1f5f9; text-align: right;">
                        <button mat-raised-button color="primary">Save</button>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>