<div class="login-wrapper">
  <!-- LEFT PANEL: Branding & Visuals -->
  <div class="left-panel">
    <!-- Animated Background Elements -->
    <div class="shapes-container">
      <div class="shape shape-1"></div>
      <div class="shape shape-2"></div>
      <div class="shape shape-3"></div>
    </div>

    <div class="brand-content">
      <div class="logo-circle">
        <img src="assets/images/icon_s 1.png" alt="JanSehay Logo" class="brand-logo" />
      </div>
      <h1 class="brand-title">जनसहाय</h1>
      <p class="brand-subtitle">Empowering Citizens with<br>Government Welfare Services</p>

      <div class="feature-pills">
        <div class="pill">
          <span class="check-icon">✓</span> Fast
        </div>
        <div class="pill">
          <span class="check-icon">✓</span> Secure
        </div>
        <div class="pill">
          <span class="check-icon">✓</span> Reliable
        </div>
      </div>
    </div>
  </div>

  <!-- RIGHT PANEL: Login Form -->
  <div class="right-panel">
    <div class="form-container" [@cardAnimation]>

      <!-- STEP 1: MOBILE ENTRY -->
      <div class="form-step" *ngIf="mode === 'mobile'" [@fadeSlide]>
        <div class="form-header">
          <h2>Welcome Back</h2>
          <p>Please enter your details to sign in.</p>
        </div>

        <div class="input-group">
          <label for="mobile">Mobile Number</label>
          <div class="input-wrapper">
            <span class="input-icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path
                  d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z">
                </path>
              </svg>
            </span>
            <input id="mobile" type="tel" class="form-input" placeholder="98765 43210" maxlength="10"
              [(ngModel)]="mobileNumber" [class.error-border]="error" (keyup.enter)="sendOtp()" />
          </div>
          <p class="error-text" *ngIf="error" [@shake]>{{ error }}</p>
        </div>

        <button class="primary-btn" (click)="sendOtp()" [disabled]="isLoading">
          <span *ngIf="!isLoading">Send OTP</span>
          <span *ngIf="isLoading" class="loader"></span>
        </button>
      </div>

      <!-- STEP 2: OTP ENTRY -->
      <div class="form-step" *ngIf="mode === 'otp'" [@fadeSlide]>
        <div class="form-header">
          <button class="back-btn" (click)="mode = 'mobile'">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
              stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="19" y1="12" x2="5" y2="12"></line>
              <polyline points="12 19 5 12 12 5"></polyline>
            </svg>
            Back
          </button>
          <h2>Enter OTP</h2>
          <p>We've sent a code to <strong>+91 {{ mobileNumber }}</strong></p>
        </div>

        <div class="otp-container">
          <div class="otp-inputs">
            <input #otpInput type="tel" maxlength="1" *ngFor="let x of [1, 2, 3, 4, 5, 6]; let i = index"
              (input)="moveNext($event, i)" class="otp-digit" [class.error-border]="error" />
          </div>
          <p class="error-text" *ngIf="error" [@shake]>{{ error }}</p>
        </div>

        <button class="primary-btn" (click)="verifyOtp()" [disabled]="isLoading">
          <span *ngIf="!isLoading">Verify & Proceed</span>
          <span *ngIf="isLoading" class="loader"></span>
        </button>

        <div class="resend-timer">
          <p>Didn't receive code? <a href="javascript:void(0)">Resend</a></p>
        </div>
      </div>

    </div>

    <div class="copyright">
      © 2024 JanSehay. All rights reserved.
    </div>
  </div>
</div>